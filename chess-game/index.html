<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A-Chess</title>
    <!-- Google Fonts for Typography -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <!-- Chess.js library for game logic -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/0.10.3/chess.min.js"></script>
</head>

<body>
    <div class="app-container">
        <!-- Sidebar / Game Controls -->
        <aside class="sidebar glass-panel slide-in-left">
            <h1 class="logo"><i class="fa-solid fa-chess-knight"></i> A-Chess</h1>

            <div class="game-status">
                <div class="status-indicator" id="status-indicator">
                    <span class="status-dot"></span>
                    <span id="status-text">White's Turn</span>
                </div>
                <div class="timers">
                    <div class="timer white-timer active">
                        <i class="fa-regular fa-clock"></i> <span id="white-time">10:00</span>
                    </div>
                    <div class="timer black-timer">
                        <i class="fa-regular fa-clock"></i> <span id="black-time">10:00</span>
                    </div>
                </div>
            </div>

            <div class="controls-section">
                <h2>New Game</h2>
                <div class="game-mode-selector">
                    <button class="mode-btn active" data-mode="player">
                        <i class="fa-solid fa-user-group"></i> 2 Player
                    </button>
                    <button class="mode-btn" data-mode="ai">
                        <i class="fa-solid fa-robot"></i> vs AI
                    </button>
                </div>

                <div class="difficulty-selector hidden" id="difficulty-selector">
                    <label>AI Level</label>
                    <input type="range" min="1" max="5" value="3" id="ai-level">
                    <div class="level-labels">
                        <span>Novice</span>
                        <span>Grandmaster</span>
                    </div>
                </div>

                <button class="btn-primary" id="start-game-btn">Start Game</button>
                <button class="btn-secondary" id="undo-btn"><i class="fa-solid fa-rotate-left"></i> Undo</button>
                <button class="btn-secondary" id="flip-board-btn"><i class="fa-solid fa-retweet"></i> Flip
                    Board</button>
            </div>

            <div class="history-section">
                <h2>Move History</h2>
                <div class="move-history" id="move-history">
                    <!-- Moves will be populated here -->
                </div>
            </div>

            <!-- Mobile Toggle -->
            <!-- <button class="mobile-menu-toggle"><i class="fa-solid fa-bars"></i></button> -->
        </aside>

        <!-- Main Board Area -->
        <main class="board-area">
            <div class="board-container glass-panel">
                <div id="board" class="chess-board">
                    <!-- Board squares generated by JS -->
                </div>
                <!-- Coordinates (optional, can be CSS pseudo-elements) -->
                <div class="captured-pieces" id="captured-top"></div>
                <div class="captured-pieces" id="captured-bottom"></div>
            </div>
        </main>
    </div>

    <!-- Modals -->
    <div id="game-over-modal" class="modal hidden">
        <div class="modal-content glass-panel">
            <h2 id="game-over-title">Checkmate!</h2>
            <p id="game-over-message">White wins by checkmate.</p>
            <div class="modal-actions">
                <button class="btn-primary" id="rematch-btn">Rematch</button>
                <button class="btn-secondary" id="close-modal-btn">Close</button>
            </div>
        </div>
    </div>

    <div id="promotion-modal" class="modal hidden">
        <div class="modal-content glass-panel">
            <h2>Promote Pawn</h2>
            <div class="promotion-options" id="promotion-options">
                <!-- Promotion pieces injected by JS -->
            </div>
        </div>
    </div>

    <!-- Stockfish Setup -->
    <script>
        // Check if Stockfish handles web assembly, fallbacks handled in script.js
        var stockfishPath = 'https://cdnjs.cloudflare.com/ajax/libs/stockfish.js/10.0.0/stockfish.js';
    </script>
    <script src="script.js"></script>
</body>

</html>